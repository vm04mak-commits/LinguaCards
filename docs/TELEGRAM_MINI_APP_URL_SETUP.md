# –ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Mini App URL –≤ Telegram –±–æ—Ç–µ

## –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ BotFather (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ Web App

1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/botfather) –≤ Telegram

2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É:
   ```
   /newapp
   ```

3. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞

4. –í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

   **Short name** (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ URL):
   ```
   linguacards
   ```

   **Title** (–Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è):
   ```
   LinguaCards
   ```

   **Description** (–æ–ø–∏—Å–∞–Ω–∏–µ):
   ```
   –£—á–∏ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π —Å –ø–æ–º–æ—â—å—é –∫–∞—Ä—Ç–æ—á–µ–∫ –ø—Ä—è–º–æ –≤ Telegram! –ì–æ—Ç–æ–≤—ã–µ –Ω–∞–±–æ—Ä—ã –ø–æ —Ç–µ–º–∞–º, —Å–æ–∑–¥–∞–≤–∞–π —Å–≤–æ–∏ –∫–∞—Ä—Ç–æ—á–∫–∏, –æ—Ç—Å–ª–µ–∂–∏–≤–∞–π –ø—Ä–æ–≥—Ä–µ—Å—Å.
   ```

   **Photo** (—Å–∫—Ä–∏–Ω—à–æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 640x360px):
   - –ó–∞–≥—Ä—É–∑–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
   - –ò–ª–∏ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–µ: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/empty`

   **GIF/Video** (–¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–µ: –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/empty`

   **Web App URL** (–≤–∞–∂–Ω–æ!):

   –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ª–æ–∫–∞–ª—å–Ω–æ):
   ```
   http://localhost:5173
   ```

   –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ (–ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è):
   ```
   https://your-domain.com
   ```

   ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: Telegram —Ç—Ä–µ–±—É–µ—Ç HTTPS –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞! –¢–æ–ª—å–∫–æ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTP.

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ –º–µ–Ω—é

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ BotFather:
   ```
   /setmenubutton
   ```

2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞

3. –í—ã–±–µ—Ä–∏—Ç–µ "Edit menu button URL"

4. **Button text** (—Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏):
   ```
   –û—Ç–∫—Ä—ã—Ç—å LinguaCards
   ```

5. **URL**:
   ```
   https://your-domain.com
   ```

### –®–∞–≥ 3: –ò–∑–º–µ–Ω–µ–Ω–∏–µ URL –ø–æ–∑–∂–µ

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å URL –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ BotFather:
   ```
   /myapps
   ```

2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

3. –í—ã–±–µ—Ä–∏—Ç–µ "Edit Web App URL"

4. –í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π URL

## –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ inline –∫–Ω–æ–ø–∫—É (–∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞)

–ï—Å–ª–∏ –Ω–µ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å menu button, –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å inline –∫–Ω–æ–ø–∫—É –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö:

### –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –±–æ—Ç–∞ –Ω–∞ Node.js:

```javascript
// bot.js
const TelegramBot = require('node-telegram-bot-api');

const token = process.env.TELEGRAM_BOT_TOKEN;
const bot = new TelegramBot(token, { polling: true });

const webAppUrl = 'https://your-domain.com'; // –∏–ª–∏ http://localhost:5173 –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

bot.onText(/\/start/, (msg) => {
  const chatId = msg.chat.id;

  bot.sendMessage(chatId, '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ LinguaCards! üéì\n\n–ù–∞—á–Ω–∏ –∏–∑—É—á–∞—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:', {
    reply_markup: {
      inline_keyboard: [[
        {
          text: 'üöÄ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',
          web_app: { url: webAppUrl }
        }
      ]]
    }
  });
});

bot.on('message', (msg) => {
  console.log('–ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ:', msg);
});

console.log('–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω...');
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
```bash
npm install node-telegram-bot-api
```

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
TELEGRAM_BOT_TOKEN=your_token node bot.js
```

## –í–∞—Ä–∏–∞–Ω—Ç 3: –ò—Å–ø–æ–ª—å–∑—É—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π backend

–î–æ–±–∞–≤—å—Ç–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è webhook –≤ –≤–∞—à backend:

```typescript
// backend/src/telegram/telegram.controller.ts
import { Controller, Post, Body } from '@nestjs/common';

@Controller('telegram')
export class TelegramController {
  @Post('webhook')
  async handleWebhook(@Body() update: any) {
    if (update.message?.text === '/start') {
      // –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ —Å Web App –∫–Ω–æ–ø–∫–æ–π
      const chatId = update.message.chat.id;

      await fetch(`https://api.telegram.org/bot${process.env.TELEGRAM_BOT_TOKEN}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({
          chat_id: chatId,
          text: '–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ LinguaCards! üéì',
          reply_markup: {
            inline_keyboard: [[
              {
                text: 'üöÄ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ',
                web_app: { url: process.env.MINI_APP_URL }
              }
            ]]
          }
        })
      });
    }

    return { ok: true };
  }
}
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ webhook:
```bash
curl -F "url=https://your-backend.com/telegram/webhook" \
  https://api.telegram.org/bot<YOUR_BOT_TOKEN>/setWebhook
```

## –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –° ngrok (—Ç—É–Ω–Ω–µ–ª—å –¥–ª—è localhost)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok: https://ngrok.com/download

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç—É–Ω–Ω–µ–ª—å:
   ```bash
   ngrok http 5173
   ```

3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ HTTPS URL (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abc123.ngrok.io`)

4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç URL –≤ BotFather –¥–ª—è Web App URL

### –° localtunnel

```bash
npm install -g localtunnel
lt --port 5173
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram

2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –º–µ–Ω—é (‚ò∞) —Ä—è–¥–æ–º —Å –ø–æ–ª–µ–º –≤–≤–æ–¥–∞

3. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "–û—Ç–∫—Ä—ã—Ç—å LinguaCards"

4. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –¥–æ–ª–∂–Ω–æ –æ—Ç–∫—Ä—ã—Ç—å—Å—è –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## Troubleshooting

### –ö–Ω–æ–ø–∫–∞ –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ menu button —á–µ—Ä–µ–∑ `/setmenubutton`
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å Telegram
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ URL –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

### "This site can't provide a secure connection"
- –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞ –Ω—É–∂–µ–Ω HTTPS
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ ngrok –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ò–ª–∏ –¥–µ–ø–ª–æ–π—Ç–µ –Ω–∞ Vercel/Netlify (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π HTTPS)

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ frontend –∑–∞–ø—É—â–µ–Ω –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–º URL
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ backend
- –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –≤ Telegram Desktop –¥–ª—è –æ—à–∏–±–æ–∫

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ URL:
1. –û–±–Ω–æ–≤–∏—Ç–µ `MINI_APP_URL` –≤ `backend/.env`
2. –û–±–Ω–æ–≤–∏—Ç–µ CORS –≤ backend –¥–ª—è —ç—Ç–æ–≥–æ URL
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend: `npm run dev` (–∫–æ–≥–¥–∞ –æ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω)
4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
